{
  "swagger": "2.0",
  "info": {
    "title": "Goldex backend callbacks."
  },
  "paths": {},
  "definitions": {
    "EvalCancelled": {
      "description": "Evaluation is cancelled by customer or failed",
      "type": "object",
      "properties": {
        "bot_id": {
          "description": "Bot ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "BotID",
          "example": 42
        },
        "eval_id": {
          "description": "Evaluation ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "EvalID",
          "example": 1337
        },
        "project_id": {
          "description": "Project ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "ProjectID",
          "example": 1
        },
        "reason": {
          "description": "Cancellation reason",
          "type": "string",
          "x-go-name": "Reason",
          "example": "\"cancelled\", \"broken\", \"empty_spectrum\", \"unstable_scale\" etc."
        }
      },
      "x-go-package": "github.com/goldexrobot/core.integration.backend/callback"
    },
    "EvalFinished": {
      "description": "Describes evaluation and decision data and is sent only on successful evaluation completion",
      "type": "object",
      "properties": {
        "alloy": {
          "description": "Detected primary metal/alloy",
          "type": "string",
          "x-go-name": "Alloy",
          "example": "\"au\", \"ag\""
        },
        "alloy_content": {
          "description": "Content of the metal in spectrum in percents",
          "type": "number",
          "format": "double",
          "x-go-name": "AlloyContent",
          "example": 99.8
        },
        "bot_id": {
          "description": "Bot ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "BotID",
          "example": 42
        },
        "confidence": {
          "description": "Overall result confidence/score [0..1], where 1 - is fully confident result, and value below 0.88 is alarming.",
          "type": "number",
          "format": "double",
          "x-go-name": "Confidence",
          "example": 0.889
        },
        "eval_id": {
          "description": "Evaluation ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "EvalID",
          "example": 1337
        },
        "fineness_carat": {
          "description": "Detected fineness in carats",
          "type": "string",
          "x-go-name": "FinenessCarat",
          "example": "\"24K\""
        },
        "fineness_millesimal": {
          "description": "Detected millesimal fineness: 585 stands for 58.5%, 999 =\u003e 99.9%, 9999 =\u003e 99.99%",
          "type": "integer",
          "format": "int64",
          "x-go-name": "FinenessMillesimal",
          "example": 9999
        },
        "fineness_purity": {
          "description": "Detected fineness purity in percents",
          "type": "number",
          "format": "double",
          "x-go-name": "FinenessPurity",
          "example": 99.9
        },
        "project_id": {
          "description": "Project ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "ProjectID",
          "example": 1
        },
        "risky": {
          "description": "System decision about the evaluation",
          "type": "boolean",
          "x-go-name": "Risky",
          "example": false
        },
        "spectrum": {
          "description": "Spectrum",
          "type": "object",
          "additionalProperties": {
            "type": "number",
            "format": "double"
          },
          "x-go-name": "Spectrum",
          "example": {
            "au": 99.8
          }
        },
        "warnings": {
          "description": "Warnings that should help with decision. For instance, there could be tungsten covered with gold.",
          "type": "array",
          "items": {
            "type": "string"
          },
          "x-go-name": "Warnings",
          "example": [
            "tungsten_in_gold"
          ]
        },
        "weight": {
          "description": "Item weight",
          "type": "number",
          "format": "double",
          "x-go-name": "Weight",
          "example": 3.141
        }
      },
      "x-go-package": "github.com/goldexrobot/core.integration.backend/callback"
    },
    "EvalPhoto": {
      "description": "New photo is received from the terminal during the evaluation",
      "type": "object",
      "properties": {
        "bot_id": {
          "description": "Bot ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "BotID",
          "example": 42
        },
        "eval_id": {
          "description": "Evaluation ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "EvalID",
          "example": 1337
        },
        "origin": {
          "description": "An origin the photo comes from. Here \"item\" is the item photo, \"outer\" is the external camera",
          "type": "string",
          "x-go-name": "Origin",
          "example": "\"item\", \"outer\""
        },
        "photo_id": {
          "description": "File ID",
          "type": "string",
          "x-go-name": "PhotoID",
          "example": "3dd321739a694bbab93d7aae360a4ab4"
        },
        "preview_id": {
          "description": "File ID",
          "type": "string",
          "x-go-name": "PreviewID",
          "example": "eef30f5dc98e4c7d8d2f8df9df56c0d0"
        },
        "project_id": {
          "description": "Project ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "ProjectID",
          "example": 1
        }
      },
      "x-go-package": "github.com/goldexrobot/core.integration.backend/callback"
    },
    "EvalStarted": {
      "description": "A new evaluation is just started",
      "type": "object",
      "properties": {
        "bot_id": {
          "description": "Bot ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "BotID",
          "example": 42
        },
        "eval_id": {
          "description": "Evaluation ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "EvalID",
          "example": 1337
        },
        "project_id": {
          "description": "Project ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "ProjectID",
          "example": 1
        }
      },
      "x-go-package": "github.com/goldexrobot/core.integration.backend/callback"
    },
    "StorageCellEvent": {
      "description": "This is common data sent in a storage related callbacks",
      "type": "object",
      "properties": {
        "bot_id": {
          "description": "Bot ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "BotID",
          "example": 42
        },
        "cell": {
          "description": "Cell address",
          "type": "string",
          "x-go-name": "Cell",
          "example": "\"A1\", \"J9\""
        },
        "domain": {
          "description": "Origin of the event in terms of UI flow. Here \"dashboard\" is on-bot system dashboard, \"other\" is some custom origin, \"collection\" is storage loading/unloading dashboard.",
          "type": "string",
          "x-go-name": "Domain",
          "example": "\"other\", \"dashboard\", \"buyout\", \"shop\", \"pawnshop\", \"collection\""
        },
        "project_id": {
          "description": "Project ID",
          "type": "integer",
          "format": "uint64",
          "x-go-name": "ProjectID",
          "example": 1
        },
        "transaction": {
          "description": "Transaction ID as unique cell changing operation",
          "type": "string",
          "x-go-name": "Transaction",
          "example": "\"240702e1e8be42d39137c1d802dd6941\""
        }
      },
      "x-go-package": "github.com/goldexrobot/core.integration.backend/callback"
    }
  }
}